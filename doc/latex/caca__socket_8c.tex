\hypertarget{caca__socket_8c}{\section{src/caca\-\_\-socket.c \-File \-Reference}
\label{caca__socket_8c}\index{src/caca\-\_\-socket.\-c@{src/caca\-\_\-socket.\-c}}
}
{\ttfamily \#include $<$sys/types.\-h$>$}\*
{\ttfamily \#include $<$sys/socket.\-h$>$}\*
{\ttfamily \#include $<$sys/param.\-h$>$}\*
{\ttfamily \#include $<$ifaddrs.\-h$>$}\*
{\ttfamily \#include $<$netdb.\-h$>$}\*
{\ttfamily \#include \char`\"{}caca\-\_\-socket.\-h\char`\"{}}\*
\-Include dependency graph for caca\-\_\-socket.\-c\-:
\subsection*{\-Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{caca__socket_8c_a8bf72939eebda854c12d4afdb110bd45}{get\-\_\-\-I\-P\-\_\-addresses} (char $\ast$presentation\-\_\-addr, int print)
\begin{DoxyCompactList}\small\item\em \-Resolves all the network interfaces and prints addresses to standard output (if desired) \-In fact, it provides the \-I\-Pv4 presentation address for the local host. \end{DoxyCompactList}\item 
int \hyperlink{caca__socket_8c_a1ab204b840c5e05cb3112dd59315a782}{connect\-\_\-to\-\_\-peer\-\_\-socket} (const char $\ast$peer\-\_\-hostname, struct sockaddr\-\_\-in $\ast$server, in\-\_\-port\-\_\-t port)
\item 
int \hyperlink{caca__socket_8c_a210437edf28fdb4e5c0ecba095c59fb7}{inet\-\_\-connect} (const char $\ast$host, const char $\ast$service, int type)
\begin{DoxyCompactList}\small\item\em \-Create socket and connect it to the address specified by 'host' + 'service'/'type'. \end{DoxyCompactList}\item 
void \hyperlink{caca__socket_8c_ae02d2b25cdccbafa8aa0e18f2fba04a8}{set\-\_\-non\-\_\-block} (int fd)
\end{DoxyCompactItemize}


\subsection{\-Function \-Documentation}
\hypertarget{caca__socket_8c_a1ab204b840c5e05cb3112dd59315a782}{\index{caca\-\_\-socket.\-c@{caca\-\_\-socket.\-c}!connect\-\_\-to\-\_\-peer\-\_\-socket@{connect\-\_\-to\-\_\-peer\-\_\-socket}}
\index{connect\-\_\-to\-\_\-peer\-\_\-socket@{connect\-\_\-to\-\_\-peer\-\_\-socket}!caca_socket.c@{caca\-\_\-socket.\-c}}
\subsubsection[{connect\-\_\-to\-\_\-peer\-\_\-socket}]{\setlength{\rightskip}{0pt plus 5cm}int {\bf connect\-\_\-to\-\_\-peer\-\_\-socket} (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{peer\-\_\-hostname, }
\item[{struct sockaddr\-\_\-in $\ast$}]{server, }
\item[{in\-\_\-port\-\_\-t}]{port}
\end{DoxyParamCaption}
)}}\label{caca__socket_8c_a1ab204b840c5e05cb3112dd59315a782}
\-T\-O\-D\-O\-: description


\begin{DoxyParams}{\-Parameters}
{\em peer\-\_\-hostname} & \-The \-I\-P address or hostname as a human readable character string \\
\hline
{\em server} & \-The socket address structure to be realized based on the connection to the peer\-\_\-hostname \\
\hline
{\em port} & \-The port number to connect to (assumes the other side is listening)\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
socket file descriptor number. \-Or -\/1 if not connected. 
\end{DoxyReturn}


\-Definition at line 57 of file caca\-\_\-socket.\-c.



\-References \-E\-R\-R\-O\-R\-\_\-\-E\-X\-I\-T, \-M\-A\-X\-L\-I\-N\-E, \-S\-I\-Z\-E, and \-S\-O\-C\-K\-A\-D\-D\-R.



\-Referenced by main().

\hypertarget{caca__socket_8c_a8bf72939eebda854c12d4afdb110bd45}{\index{caca\-\_\-socket.\-c@{caca\-\_\-socket.\-c}!get\-\_\-\-I\-P\-\_\-addresses@{get\-\_\-\-I\-P\-\_\-addresses}}
\index{get\-\_\-\-I\-P\-\_\-addresses@{get\-\_\-\-I\-P\-\_\-addresses}!caca_socket.c@{caca\-\_\-socket.\-c}}
\subsubsection[{get\-\_\-\-I\-P\-\_\-addresses}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf get\-\_\-\-I\-P\-\_\-addresses} (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{presentation\-\_\-addr, }
\item[{int}]{print}
\end{DoxyParamCaption}
)}}\label{caca__socket_8c_a8bf72939eebda854c12d4afdb110bd45}


\-Resolves all the network interfaces and prints addresses to standard output (if desired) \-In fact, it provides the \-I\-Pv4 presentation address for the local host. 


\begin{DoxyParams}{\-Parameters}
{\em presentation\-\_\-addr} & \-The presentation address in \-I\-Pv4 format (dotted decimal) \\
\hline
{\em print} & 1\-: prints all addresses to standard output. \-Or not (0\-: default) \\
\hline
\end{DoxyParams}


\-Definition at line 19 of file caca\-\_\-socket.\-c.



\-Referenced by get\-\_\-options().

\hypertarget{caca__socket_8c_a210437edf28fdb4e5c0ecba095c59fb7}{\index{caca\-\_\-socket.\-c@{caca\-\_\-socket.\-c}!inet\-\_\-connect@{inet\-\_\-connect}}
\index{inet\-\_\-connect@{inet\-\_\-connect}!caca_socket.c@{caca\-\_\-socket.\-c}}
\subsubsection[{inet\-\_\-connect}]{\setlength{\rightskip}{0pt plus 5cm}int {\bf inet\-\_\-connect} (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{host, }
\item[{const char $\ast$}]{service, }
\item[{int}]{type}
\end{DoxyParamCaption}
)}}\label{caca__socket_8c_a210437edf28fdb4e5c0ecba095c59fb7}


\-Create socket and connect it to the address specified by 'host' + 'service'/'type'. 

\begin{DoxyNote}{\-Note}
\-Function based on \-Michael \-Kerrisk's source code for his book \char`\"{}\-The Linux Programming Interface\char`\"{}
\end{DoxyNote}

\begin{DoxyParams}{\-Parameters}
{\em host} & \-N\-U\-L\-L for loopback \-I\-P address, or a host name or numeric \-I\-P address \\
\hline
{\em service} & either a name or a port number \\
\hline
{\em type} & either \-S\-O\-C\-K\-\_\-\-S\-T\-R\-E\-A\-M or \-S\-O\-C\-K\-\_\-\-D\-G\-R\-A\-M\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
socket descriptor on success, or -\/1 on error 
\end{DoxyReturn}


\-Definition at line 109 of file caca\-\_\-socket.\-c.

\hypertarget{caca__socket_8c_ae02d2b25cdccbafa8aa0e18f2fba04a8}{\index{caca\-\_\-socket.\-c@{caca\-\_\-socket.\-c}!set\-\_\-non\-\_\-block@{set\-\_\-non\-\_\-block}}
\index{set\-\_\-non\-\_\-block@{set\-\_\-non\-\_\-block}!caca_socket.c@{caca\-\_\-socket.\-c}}
\subsubsection[{set\-\_\-non\-\_\-block}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf set\-\_\-non\-\_\-block} (
\begin{DoxyParamCaption}
\item[{int}]{fd}
\end{DoxyParamCaption}
)}}\label{caca__socket_8c_ae02d2b25cdccbafa8aa0e18f2fba04a8}


\-Definition at line 151 of file caca\-\_\-socket.\-c.



\-Referenced by main().

